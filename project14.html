<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>project</title>
		<meta name="description" content="" />
		<meta name="author" content="Steven" />
		<script src="js/jquery-3.3.1.js"></script>
		<script src="js/jquery-3.3.1.min.js"></script>
		
		<link rel="stylesheet" href="styles.css">

	</head>
<body>
	<script>
	$(document).ready(function(){
		
		window.addEventListener('keydown', Detecteer);
		
		
		var balCoordinaten = CoordinatenBal();
		
		
	
			
		
		var counter = 0;
		
		
        setInterval(Vallen,1000);
		
		
		
		
             
		
		function Vallen(){
            
            var snelheid = 10000;
			//yPositieSoldier++;
			//xPositieSoldier++;dit niet anders gaat soldier schuin naar beneden
			counter++;
			let x = Math.floor((Math.random() * ($(document).width() - 250) ) + 1);
            
            let Groep = {
                nummer: counter,
                xpositie: x
            }       
			//zorgt ervoor dat er meerdere soldiers met een random x waarde naar beneden vallen
            $("#spel").prepend('<div unselectable="on" id="soldier' + Groep.nummer + '" class="soldier"><img src="img/soldier.png" alt="" width="40px" height="40px" ></div>');
            
			
									$('#soldier' + Groep.nummer).css('left', Groep.xpositie);
            						var hoogte = "+=" + ($(window).height() - $("#soldier" + Groep.nummer).height() - 150);
            $('#soldier' + Groep.nummer).animate({  
                top: hoogte
            }, snelheid, function(){
                $('#soldier' + Groep.nummer).hide();                
                
               
            });
            
            
            
        
		}
		
	
		
        //functie voor de coördinaten van de bal
        function CoordinatenBal(){
			var tankPositie = $('#tank').position();
		console.dir(tankPositie);
		
		var x = $("#tank").offset().left;
		var y = $("#tank").offset().top;
		
		
		console.log("functie CoordinatenBal");
		}
		
		
			//functie om de foto naar links te laten bewegen
			function FunctieLinks(){
				
				//var coördinaten = document.getElementById("tank");
				 var foto = document.getElementById("tank");
            foto.style.left = parseInt(foto.style.left) - 10 + 'px';
                
				
			}
			
			//functie om de foto naar rechts te laten bewegen
			function FunctieRechts(){
				
				var foto = document.getElementById("tank");
            foto.style.left = parseInt(foto.style.left) + 10 + 'px';
                
				
			}
			// functie om de bal te laten bewegen
			
    			function Omhoog() {
        			//img/Aqua-Ball-icon.png
                  var snelheid = Math.floor((Math.random() * 3000) + 1000);
					
					counter++;
			let x = $("#tank").offset().left + 12;
            var boven = $("#tank").offset().top;
            
            let Groep2 = {
                nummer: counter,
                xpositie: x
            }       //zorgt ervoor dat meerdere ballen kunnen afgeschoten worden
					$("#spel").prepend('<div unselectable="on" id="bal' + Groep2.nummer + '" class="bal"><img src="img/Aqua-Ball-icon.png" alt="" width="10px" height="10px" ></div>');
            					
								$('#bal' + Groep2.nummer).css('left', Groep2.xpositie);
            					$('#bal' + Groep2.nummer).css({"top":boven -40}).animate({"top":"-100px"
            }, snelheid, function(){
                $('#bal' + Groep2.nummer).hide();                
                
               
            });
                    
                    
                    
                    
                    
                    
            			
        				
    }
					
				
				
				
				
			
			
			
			//detecteren of de linkse of rechter of spatie pijl word ingedrukt, vervolgens de bij horende functie
			function Detecteer(evt){
				
				switch (evt.keyCode){
					case 37: FunctieLinks(),
						
                         CoordinatenBal();//moet gebeuren zodat de bal na de verplaatsing de juiste cooördinaten krijgt 
					break;
					
					case 39: FunctieRechts(),
                         
						CoordinatenBal();
					break;
					
					case 32: Omhoog();
					break;
				}
			};
		
	
			
			});
	
		
		
	</script>
	

	
			<div id="spel">
			<img src="img/blauweTank.jpg" id="tank" style="position: absolute; left: 500px; top: 90%;" height="50" width="50">

		</div>
	
	</body>
</html>