<!DOCTYPE html>
<html lang="nl">
	<head>
		<meta charset="utf-8" />


		<title>blackjack game</title>
		<meta name="description" content="" />
		<meta name="author" content="" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
         <script src="js/jquery-1.12.1.js"></script>
        <script src="js/jquery-1.12.1.min.js"></script>
        <script src="js/jquery-ui.js"></script>
		<link rel="stylesheet" href="blackjack.css">
        
        
        <script type="text/javascript">
            var playerIndex = new Array();//playerIndex[0] = {playerHand,playerHandSuit,playerHandValueHard,playerHandValueSoft}
            var playerHand = new Array();
            var playerHandSuit = new Array();
            var dealerHand = new Array();
            var dealerHandSuit = new Array();
            var playerHandValueHard = 0;
            var playerHandValueSoft = 0;
            var dealerHandValue = 0;
            var dealerHandValueSoft = 0;
            var playerCardNumber = 0;
            var playerNumber = 0;
            var numberOfPlayers = 1;
            var dealerCardNumber = 0;
            var stillIn = true;
            var winner = 0;//does nothing
            var dealerStillIn = true;
            var gameGoing = true;
            
            function GameStart(){
                playerCardNumber = 0;
                DealerHit();
                PlayerStart();
                document.getElementById("controls").innerHTML;//nog niet volledig
            }
            
            
            
            function PlayerStart(){
                var c = 0;
                while(c<2){
                        PlayerHit();
                        c = c+1;
                    }
                return;
            }
            
            function VictoryCheck(j){
                var x;
                var c = 0;
                var i;
                var whoWon = new Array();
                var whoTied = new Array();
                var whoLost = new Array();
                
                if(j == 0 || j == 2){
                    for(i in playerIndex){
                        x = playerIndex[i];
                        if(x[5]){
                            c=1;
                        }
                    }
                    
                    if(c == 0){
                        alert("everyone is out! dealer wins by default");
                        return false;
                    }
                    
                    if(j == 2){
                        return true;
                    }
                    
                    var k = 0;
                    var kc = 0;
                    var kcc = 0;
                    for(i in playerIndex){
                        x = playerIndex[i];
                        if(dealerHandValueSoft < 21){
                            if((x[4] < 21 && x[4] > dealerHandValueHard && dealerHandValueSoft)){
                                whoTied[k] = 1;
                                k = k + 1;
                            }else if((x[4] < 21 && x[4] >= dealerHandValueHard && dealerHandValueSoft)){
                                whoTied[kc] = 1;
                                kc = kc + 1;
                            }else{
                                whoLost[kcc] = i;
                                kcc = kcc + 1;
                            }
                               
                        }else{
                            if((x[4] < 21 && x[4] >dealerHandValueHard) ||)
                        }
                    }
                }
            }
            
            function Reset(){
                playerIndex = {};
                playerHand = {};
                playerHandSuit = {};
                dealerHand = {};
                dealerHandSuit = {};
                playerHandValueHard = 0;
                playerHandValueSoft = 0;
                dealerHandValueHard = 0;
                dealerHandValueSoft = 0;
                dealerCardNumber = 0;
                playerCardNumber = 0;
                playerNumber = 0;
                numberOfPlayers = 1;
                stillIn = true;
                winner = 0;
                dealerStillIn = true;
                gameGoing : true;
                document.getElementById("Main").innerHTML;
                return;
            }
            
            
            function BustCheck(x){
                if(x > 21){
                    alert("over twenty-one! you lose!");
                }
            }
            
            
            function Dealer(){
                gameGoing = VictoryCheck(2);
                while(dealerHandValueHard < 16 && (dealerHandValueSoft <16 || dealerHandValueSoft > 21 ) && dealerStillIn && gameGoing){
                    DealerHit();
                }
                
                if(gameGoing){
                    if(dealerStillIn){
                        if((dealerHandValueSoft != dealerHandValueHard) && dealerHandValueSoft < 21){
                            alert("dealer sticks at:" + dealerHandValueHard + "/" + dealerHandValueSoft);
                        }else{
                            alert("dealer sticks at:" + dealerHandValueHard);
                        }
                    }
                    gameGoing = VictoryCheck(0);
                }
                return;
                
            }
            
            
            
            
            function Stick(){
                if(gameGoing){
                    playerIndex[playerNumber] = {playerHand,playerHandSuit,playerCardNumber,playerHandValueHard,playerHandValueSoft,stillIn,winner};
                    playerNumber = playerNumber + 1;
                    if(playerNumber >= numberOfPlayers){
                        dealer();
                    }else{
                            playerHandValueHard = 0;
                            playerHandValueSoft = 0;
                            playerCardNumber = 0;
                            playerHand = new Array();
                            playerHandSuit = new Array();
                            PlayerStart();
                     }
                        }else{
                            alert("the game is over! there's no point in sticking!")
                        }
                    return;
                }
                
            
            
            
            
            function DealerHit(){
                playerCardNumber = playerCardNumber + 1;
                var suit = randSuit();
                var card = randCard();//card[0] = de kaart die wordt weergegeven, card[1 is de waarde. card[2].
                dealerHand[playerCardNumber] = card[0];
                dealerHandSuit[playerCardNumber] = suit;
                dealerHandValueHard = playerHandValueHard + card[1];
                dealerHandValueSoft = playerHandValueSoft + card[2];
            }
            
        
            function PlayerHit(doubleDown)
            {
               if(gameGoing){
                    var suit = randSuit();
                    var card = randCard();//card[0] = kaart die wordt weergegeven, card[1] is de waarde. card[2].
                    playerHand[playerCardNumber] = card[0];
                    playerHandSuit[playerCardNumber] = suit;
                    playerHandValueHard = playerHandValueHard + card[1];
                    playerHandValueSoft = playerHandValueSoft + card[2];
                    playerCardNumber = playerCardNumber + 1;
                    stillIn = BustCheck(playerHandValueHard,1);
                   UpdateHand();
                   
                   if(!stillIn && doubleDown!-1){
                       Stick();
                   }else{
                       alert("the game is over! There's no point in hitting!");
                   }
                        return;
                   
               }
                
            }
            
            
            function RandSuit(){
                var suit;
                var rand = random(0,4);
                switch(rand){
                    case 0:
                            suit = "hearts";
                            break;
                    case 1:
                            suit = "spades";
                            break;
                    case 2: 
                            suit = "diamonds";
                            break;    
                    case 3: 
                            suit = "hearts";
                            break;
                    default:
                            alert("een error dat van suit komt");
                }
                
                return suit;
            }
            
            
            function RandCard(){
                var cardArray = newArray();
                var randCard = random(1,13);
                switch(randCard){
                    case 1:
                            cardArray[0] = "A";
                            cardArray[1] = 1;
                            cardArray[2] = 11;
                            break;
                    case 11:
                            cardArray[0] = "j";
                            cardArray[1] = 10;
                            cardArray[2] = 10;
                            break;
                    case 12: 
                            cardArray[0] = "Q";
                            cardArray[1] = 10;
                            cardArray[2] = 10;
                            break;    
                    case 13: 
                            cardArray[0] = "K";
                            cardArray[1] = 10;
                            cardArray[2] = 10;
                            break;
                    default:
                            cardArray[0] = randCard;
                            cardArray[1] = randCard;
                            cardArray[2] = randCard;
                }
                
                return suit;
            }
            
            
            
            
            
            
            
            function Random(x,y){
              return Math.floor(Math.random()*(y-x+1)) + x;
            }
        
        </script>
	</head>

	<body>
		<div id="Main" class="main-Class">
            <p>welkom bij blackjack. om het spel te spelen moet je de buttons gebruiken.</p>
            <div id="dealerHand" class="cards">dealer heeft op dit moment geen kaarten</div>
            <div id="activePlayerHand" class="cards">momenteel geen actieve spelers.</div>
            <div id="controls"><input type="button" value="start" onclick="GameStart()">
            </div>
                
        </div>
        
		
	</body>
</html>
